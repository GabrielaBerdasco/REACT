(this.webpackJsonptiendab=this.webpackJsonptiendab||[]).push([[0],{24:function(e,t,c){},44:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){"use strict";c.r(t);var a=c(4),r=c(30),n=c.n(r),s=c(22),o=c(9),i=c(14),j=c(12),d=c(19),l=c(3),b=Object(a.createContext)(),u=b.Provider,O=function(){return Object(a.useContext)(b)},h=function(e){var t=e.children,c=Object(a.useState)(0),r=Object(o.a)(c,2),n=r[0],s=r[1],i=Object(a.useState)([]),j=Object(o.a)(i,2),b=j[0],O=j[1],h=Object(a.useState)(0),m=Object(o.a)(h,2),x=m[0],p=m[1],f=function(e){return b.find((function(t){return t.id===e}))},g={productsQuantity:n,productsToCart:b,totalAmount:x,addToCart:function(e,t,c){if(f(e)){var a=b.find((function(e){return e.id===t.id})),r=c*t.precio;a.totalPrice+=r,a.quantity+=c;var o=b.filter((function(e){return e.id!==t.id}));O([].concat(Object(d.a)(o),[a])),s(n+c),p(x+r)}else{var i=t.precio*c;O([].concat(Object(d.a)(b),[{id:e,product:t,quantity:c,totalPrice:i}])),s(n+c),p(x+i)}},removeProduct:function(e){var t=b.filter((function(t){return t.id!==e})),c=b.find((function(t){return t.id===e}));s(n-c.quantity),p(x-c.totalPrice),O(t)},clear:function(){O([]),s(0),p(0)}};return Object(l.jsx)(u,{value:g,children:t})},m=function(){var e=O().productsQuantity;return Object(l.jsx)(l.Fragment,{children:0!==e?Object(l.jsxs)(i.c,{to:"/carrito",className:"cartWidget",children:[Object(l.jsx)("span",{className:"material-icons icono",children:"shopping_cart"}),e]}):Object(l.jsx)("div",{children:Object(l.jsx)("h6",{className:"emptyCart",children:"Todav\xeda no agregaste productos al carrito"})})})},x=(c(44),function(e){var t=e.navbarLinks;return Object(l.jsx)("header",{className:"header",children:Object(l.jsxs)("nav",{className:"nav",children:[Object(l.jsx)("h1",{className:"brand",children:Object(l.jsx)(i.c,{to:"/home",children:"Tienda Bonachona"})}),Object(l.jsx)("ul",{children:null!==t&&t.map((function(e){return Object(l.jsx)(i.c,{to:e.href,className:"navbarLink",children:Object(l.jsx)("li",{children:e.name})},e.id)}))}),Object(l.jsx)(m,{})]})})}),p=(c(24),function(e){return Object(l.jsxs)("div",{className:"card",children:[Object(l.jsxs)("div",{className:"cardProductos",children:[Object(l.jsx)("img",{src:e.producto.imagen,alt:"Imagen productos",className:"cardImage"}),Object(l.jsx)("h3",{className:"cardNombre",children:e.producto.nombre}),Object(l.jsxs)("h4",{className:"cardPrecio",children:["$",e.producto.precio]})]}),Object(l.jsx)(i.b,{to:"/productos/".concat(e.producto.id),children:Object(l.jsx)("button",{className:"contadorAgregar",children:"Ver detalle"})})]},e.producto.id)}),f=function(e){var t=e.productos;return Object(l.jsx)("div",{className:"contenedorCards",children:t.map((function(e){return Object(l.jsx)(p,{producto:e},e.id)}))})},g=c(37),N=c(13),v=Object(g.a)({apiKey:"AIzaSyAvV5r6cCWbqOdiiOtya-M9GgtrvF-UTyc",authDomain:"tienda-bonachona.firebaseapp.com",projectId:"tienda-bonachona",storageBucket:"tienda-bonachona.appspot.com",messagingSenderId:"688324157718",appId:"1:688324157718:web:9677705500cf82d3af3037"}),C=Object(N.f)(v),T=function(e){var t=e.nombre,c=e.apellido,r=Object(a.useState)([]),n=Object(o.a)(r,2),i=n[0],d=n[1],b=Object(j.g)().name;return Object(a.useEffect)((function(){var e=Object(N.b)(C,"products");if(b){var t=Object(N.g)(e,Object(N.i)("categoria","==",b));Object(N.e)(t).then((function(e){var t=e.docs;d(t.map((function(e){return Object(s.a)({id:e.id},e.data())})))})).catch((function(e){console.error(e)}))}else{var c=Object(N.g)(e,Object(N.i)("salient","==",!0));Object(N.e)(c).then((function(e){var t=e.docs;d(t.map((function(e){return Object(s.a)({id:e.id},e.data())})))})).catch((function(e){console.error(e)}))}}),[b]),Object(l.jsxs)("section",{children:[b&&Object(l.jsxs)("h2",{className:"itemListContainer",children:["\xa1Bienvenido a nuestra tienda virtual, ",t," ",c,"!"]}),Object(l.jsx)("article",{children:Object(l.jsx)(f,{productos:i})})]})},I=c(27),A=(c(36),function(e){var t=e.item,c=e.addToCart,r=e.onAdd,n=e.removeCounter,s=e.mostrar,j=Object(a.useState)(1),d=Object(o.a)(j,2),b=d[0],u=d[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(I.a,{}),s?Object(l.jsxs)("div",{className:"contadorContainer",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{onClick:function(){b<t.stock&&u(b+1)},className:"contadorSuma",children:"+"}),Object(l.jsx)("label",{className:"contadorEtiqueta",children:b}),Object(l.jsx)("button",{onClick:function(){b>1&&u(b-1)},className:"contadorResta",children:"-"})]}),Object(l.jsx)("button",{onClick:function(){r(b,u),Object(I.b)("Agregaste "+b+" productos al carrito",{position:"top-center",autoClose:3e3}),n(),c(t.id,t,b)},className:"contadorAgregar",children:"Agregar al carrito"})]}):Object(l.jsxs)("div",{className:"contadorContainer",children:[Object(l.jsx)("h3",{children:"Productos en carrito"}),Object(l.jsx)("h6",{children:"Por favor, finalice su compra"}),Object(l.jsx)(i.b,{to:"/carrito",children:Object(l.jsx)("button",{className:"contadorAgregar",children:"Ir al carrito"})})]})]})}),P=function(e){var t=e.item,c=Object(a.useState)(!0),r=Object(o.a)(c,2),n=r[0],s=r[1],i=O().addToCart;return Object(l.jsx)(l.Fragment,{children:t?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{className:"itemDTittle",children:"Producto seleccionado:"}),Object(l.jsxs)("div",{className:"selectedProduct",children:[Object(l.jsx)("img",{src:t.imagen,alt:"Yerbera de lata",className:"itemImage"}),Object(l.jsxs)("div",{className:"itemSelected",children:[Object(l.jsx)("h3",{children:t.nombre}),Object(l.jsx)("p",{children:t.descripci\u00f3n}),Object(l.jsxs)("h4",{children:["$",t.precio]}),Object(l.jsx)(A,{item:t,addToCart:i,onAdd:function(e,t){0!==e&&t(1)},removeCounter:function(){s(!n)},mostrar:n})]})]},t.id)]}):Object(l.jsx)("h2",{className:"itemDTittle",children:"Cargando..."})})},S=function(e){var t=e.product,c=e.quantity,a=e.totalPrice,r=O(),n=r.removeProduct,s=r.productsToCart;return Object(l.jsxs)("div",{className:"selectedProduct",children:[Object(l.jsx)("img",{src:t.imagen,alt:"Imagen productos",className:"itemImagecart"}),Object(l.jsxs)("div",{className:"itemSelected",children:[Object(l.jsx)("h3",{className:"cardNombre",children:t.nombre}),Object(l.jsxs)("h3",{children:["Cantidad: ",c]}),Object(l.jsxs)("h3",{className:"cardPrecio",children:["$",a]})]}),s.length>=1&&Object(l.jsx)("button",{className:"contadorAgregar",onClick:function(){return n(t.id)},children:"Eliminar producto"})]},t.id)},y=function(e){return Object(l.jsx)("article",{className:"cartCards",children:e.products.map((function(e){return Object(l.jsx)(S,{product:e.product,quantity:e.quantity,totalPrice:e.totalPrice},e.id)}))})},k=function(e){var t=e.ordenId,c=Object(a.useState)(null),r=Object(o.a)(c,2),n=r[0],i=r[1],d=Object(j.g)().id,b=Object(a.useState)(null),u=Object(o.a)(b,2),O=u[0],h=u[1];return Object(a.useEffect)((function(){if(d){var e=Object(N.b)(C,"products"),c=Object(N.c)(e,d);Object(N.d)(c).then((function(e){i(Object(s.a)({id:d},e.data()))})).catch((function(e){console.error(e)}))}else if(20===t.length){var a=Object(N.b)(C,"ventas"),r=Object(N.c)(a,t);Object(N.d)(r).then((function(e){h(e.data())})).catch((function(e){console.error(e)}))}}),[d,t]),Object(l.jsx)("article",{children:d?Object(l.jsx)(P,{item:n}):Object(l.jsx)("div",{children:null!==O?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(y,{products:O.items}),Object(l.jsxs)("h4",{className:"cartTittle",children:["Fecha del pedido: ",O.date.toDate().toString()]}),Object(l.jsxs)("h4",{className:"cartTittle",children:["Total de la compra: $",O.total]})]}):Object(l.jsx)("h4",{className:"cartTittle",children:"Cargando pedido..."})})})},E=function(e){var t=e.formulario,c=Object(a.useState)(""),r=Object(o.a)(c,2),n=r[0],s=r[1],i=Object(a.useState)(""),j=Object(o.a)(i,2),d=j[0],b=j[1],u=Object(a.useState)(""),O=Object(o.a)(u,2),h=O[0],m=O[1];return Object(l.jsxs)("form",{className:"formulario",children:[Object(l.jsx)("input",{type:"text",placeholder:"Nombre",onChange:function(e){return s(e.target.value)}}),Object(l.jsx)("input",{type:"text",placeholder:"Apellido",onChange:function(e){return b(e.target.value)}}),Object(l.jsx)("input",{type:"email",placeholder:"Correo Electr\xf3nico",onChange:function(e){return m(e.target.value)}}),n.length>2&&h.length>6&&Object(l.jsx)("button",{onClick:function(e){e.preventDefault(),t(n,d,h)},className:"contadorAgregar",children:"Guardar Datos"})]})},F=(c(47),function(){var e=Object(a.useState)({}),t=Object(o.a)(e,2),c=t[0],r=t[1],n=Object(a.useState)(!1),s=Object(o.a)(n,2),j=s[0],d=s[1],b=Object(a.useState)(""),u=Object(o.a)(b,2),h=u[0],m=u[1],x=O(),p=x.productsToCart,f=x.totalAmount,g=x.clear,v=function(e){Object(I.b)("Orden de compra: n\xb0 "+e,{position:"top-center",autoClose:1e4,closeOnClick:!1})};return Object(l.jsxs)("section",{className:"cart",children:[Object(l.jsx)("h1",{className:"cartTittle",children:"Carro de compras"}),p.length>0?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h3",{className:"cartTittle",children:"Productos seleccionados:"}),Object(l.jsx)(y,{products:p}),Object(l.jsx)("button",{onClick:function(){return g()},className:"contadorAgregar",children:"Eliminar productos"}),Object(l.jsxs)("h3",{className:"cartTittle",children:["Precio Total: $",f]}),Object(l.jsx)(E,{formulario:function(e,t,c){r({nombre:e,apellido:t,email:c}),d(!j)}}),j?Object(l.jsx)("button",{onClick:function(){return function(){var e=Object(N.b)(C,"ventas");Object(N.a)(e,{comprador:c,items:p,date:Object(N.h)(),total:f}).then((function(e){v(e.id),g()})).catch((function(e){console.error(e)}))}()},className:"contadorAgregar",children:"Finalizar Compra"}):Object(l.jsx)("h5",{className:"errorFormulario",children:"Por favor, ingrese sus datos para terminar la compra"})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(I.a,{}),Object(l.jsx)("h4",{className:"cartTittle",children:"(Todav\xeda no hay productos seleccionados)"}),Object(l.jsx)(i.c,{to:"/home",children:Object(l.jsx)("button",{className:"contadorAgregar",children:"Ir a Inicio"})}),Object(l.jsx)("h3",{className:"cartTittle",children:"O consulta tu pedido:"}),Object(l.jsx)("form",{className:"formulario",children:Object(l.jsx)("input",{type:"text",placeholder:"N\xfamero de orden",onChange:function(e){return m(e.target.value)}})}),20===h.length?Object(l.jsx)(k,{ordenId:h}):Object(l.jsx)("h6",{children:"Ingrese su n\xfamero de orden (20 caracteres)"})]})]})}),q=function(){return Object(l.jsx)("article",{className:"nosotrosCentrado",children:Object(l.jsx)("h1",{children:"Conoce m\xe1s sobre nosotros"})})},D=function(){return Object(l.jsxs)("section",{children:[Object(l.jsxs)("article",{className:"bannerInicio",children:[Object(l.jsx)("h3",{children:"\xa1BIENVENIDO A LA TIENDA!"}),Object(l.jsx)("h1",{className:"tittle",children:"Que disfrutes tu b\xfasqueda"}),Object(l.jsx)("h4",{children:"Regalar siempre es bueno"})]}),Object(l.jsxs)("article",{className:"inicioCategor\xedas",children:[Object(l.jsx)("img",{src:"https://dl.dropboxusercontent.com/s/ig08109teihkjv1/YerberaNegra.jpeg?dl=0",alt:"Yerbera de lata",className:"itemImage"}),Object(l.jsx)("h1",{className:"linkTittle",children:Object(l.jsx)(i.b,{to:"/hogar",children:"Hogar"})})]}),Object(l.jsxs)("article",{className:"inicioCategor\xedas",children:[Object(l.jsx)("h1",{className:"linkTittle",children:Object(l.jsx)(i.b,{to:"/accesorios",children:"Accesorios"})}),Object(l.jsx)("img",{src:"https://dl.dropboxusercontent.com/s/ce6oxs9d9dcj4v6/CuadernoImagine.jpeg?dl=0",alt:"Cuaderno",className:"itemImage"})]}),Object(l.jsxs)("article",{children:[Object(l.jsx)("h3",{className:"itemListContainer",children:"Productos Destacados"}),Object(l.jsx)(T,{})]})]})},L=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),c=t[0],r=t[1];return Object(a.useEffect)((function(){var e=Object(N.b)(C,"categorias");Object(N.e)(e).then((function(e){var t=e.docs;r(t.map((function(e){return Object(s.a)({id:e.id},e.data())})))})).catch((function(e){console.error(e)}))}),[]),Object(l.jsx)(h,{children:Object(l.jsxs)(i.a,{children:[Object(l.jsx)(x,{navbarLinks:c}),Object(l.jsx)("main",{children:Object(l.jsxs)(j.c,{children:[Object(l.jsx)(j.a,{path:"/home",element:Object(l.jsx)(D,{})}),Object(l.jsx)(j.a,{path:"/nosotros",element:Object(l.jsx)(q,{})}),Object(l.jsx)(j.a,{path:"/:name",element:Object(l.jsx)(T,{nombre:"Horacio",apellido:"Gutierrez"})}),Object(l.jsx)(j.a,{path:"/carrito",element:Object(l.jsx)(F,{})}),Object(l.jsx)(j.a,{path:"/productos/:id",element:Object(l.jsx)(k,{})})]})})]})})};n.a.render(Object(l.jsx)(L,{}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.1b9ccb33.chunk.js.map